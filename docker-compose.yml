version: '3'

services:

  development-server:
    image: node:13-alpine3.10
    command: yarn run development-server
    ports:
    - "8080:8080"
    working_dir: /app
    volumes:
      - .:/app

  babel-compiler:
    image: node:13-alpine3.10
    command: yarn run babel-watch
    working_dir: /app
    user: "${UID}:${GID}"
    volumes:
      - .:/app

  webpack-bundler:
    image: node:13-alpine3.10
    command: yarn run webpack-watch
    working_dir: /app
    user: "${UID}:${GID}"
    volumes:
      - .:/app

  node:
    image: node:13-alpine3.10
    command: tail -f /dev/null
    working_dir: /app
    user: "${UID}:${GID}"
    volumes:
      - .:/app
      - yarn:/usr/local/share/.cache/yarn/v6

volumes:
  yarn: